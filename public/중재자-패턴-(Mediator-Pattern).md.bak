### **ì¤‘ì¬ì íŒ¨í„´ì´ë€ ë¬´ì—‡ì¼ê¹Œìš”?**

**ì¤‘ì¬ì íŒ¨í„´**ì€ ì—¬ëŸ¬ ê°ì²´(Colleague)ë“¤ì´ ì„œë¡œ ì§ì ‘ í†µì‹ í•˜ì§€ ì•Šê³ , **ì¤‘ì¬ì(Mediator)**ë¼ëŠ” í•˜ë‚˜ì˜ ê°ì²´ë¥¼ í†µí•´ì„œë§Œ ì†Œí†µí•˜ë„ë¡ ë§Œë“œëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤. ê°ì²´ë“¤ì€ ë” ì´ìƒ ì„œë¡œë¥¼ ì•Œ í•„ìš”ê°€ ì—†ìœ¼ë©°, ì˜¤ì§ ì¤‘ì¬ìì—ê²Œë§Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ë°›ìŠµë‹ˆë‹¤.

ë§ˆì¹˜ í•­ê³µ ê´€ì œíƒ‘ê³¼ ê°™ìŠµë‹ˆë‹¤. ìˆ˜ë§ì€ ë¹„í–‰ê¸°ë“¤ì´ ì„œë¡œ ì§ì ‘ í†µì‹ í•˜ë©° ì´ì°©ë¥™ ìˆœì„œë¥¼ ì •í•œë‹¤ë©´ í° í˜¼ë€ì´ ë°œìƒí•˜ê³  ì¶©ëŒ ìœ„í—˜ë„ ë†’ì•„ì§ˆ ê²ƒì…ë‹ˆë‹¤. ëŒ€ì‹  ëª¨ë“  ë¹„í–‰ê¸°ëŠ” ê´€ì œíƒ‘ê³¼ë§Œ í†µì‹ í•˜ê³ , ê´€ì œíƒ‘ì´ ê° ë¹„í–‰ê¸°ì˜ ì´ì°©ë¥™ì„ ì¡°ìœ¨í•˜ê³  ì§€ì‹œí•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ **ê´€ì œíƒ‘ì´ ì¤‘ì¬ì**, **ê° ë¹„í–‰ê¸°ê°€ ë™ë£Œ ê°ì²´(Colleague)** ì—­í• ì„ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ íŒ¨í„´ì€ ê°ì²´ ê°„ì˜ ê´€ê³„ê°€ ë³µì¡í•œ ê·¸ë¬¼ë§(many-to-many) êµ¬ì¡°ì¼ ë•Œ, ì´ë¥¼ ì¤‘ì•™ ì§‘ì¤‘ì ì¸ ìŠ¤íƒ€(star) êµ¬ì¡°ë¡œ ë‹¨ìˆœí™”í•˜ì—¬ ì‹œìŠ¤í…œì˜ [[ê²°í•©ë„(Coupling)]]ë¥¼ íšê¸°ì ìœ¼ë¡œ ë‚®ì¶¥ë‹ˆë‹¤.

---

### **ì¤‘ì¬ì íŒ¨í„´ì˜ êµ¬ì¡°**

ì¤‘ì¬ì íŒ¨í„´ì€ ë‹¤ìŒì˜ ì£¼ìš” ì—­í• ë“¤ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

1. **Mediator (ì¤‘ì¬ì)**: Colleague ê°ì²´ë“¤ê³¼ í†µì‹ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
2. **ConcreteMediator (êµ¬ì²´ì ì¸ ì¤‘ì¬ì)**: `Mediator` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©°, Colleague ê°ì²´ ê°„ì˜ í†µì‹ ì„ ì‹¤ì œë¡œ ì¡°ì •í•©ë‹ˆë‹¤. ëª¨ë“  Colleagueë¥¼ ì•Œê³  ìˆì–´ì•¼ í•˜ë©°, ì´ë“¤ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ë³µì¡í•œ ìƒí˜¸ì‘ìš© ë¡œì§ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.
3. **Colleague (ë™ë£Œ)**: ë‹¤ë¥¸ Colleagueì™€ í†µì‹ í•´ì•¼ í•˜ëŠ” ê°ì²´ë“¤ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. `Mediator` ê°ì²´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
4. **ConcreteColleague (êµ¬ì²´ì ì¸ ë™ë£Œ)**: `Colleague` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë©°, ìì‹ ì˜ `Mediator`ë¥¼ í†µí•´ ë‹¤ë¥¸ Colleagueì™€ í†µì‹ í•©ë‹ˆë‹¤.

```mermaid
classDiagram
    class Mediator {
        <<interface>>
        +mediate(colleague: Colleague)
    }
    class ConcreteMediator {
        -colleagueA: ConcreteColleagueA
        -colleagueB: ConcreteColleagueB
        +setColleagueA(colleagueA)
        +setColleagueB(colleagueB)
        +mediate(colleague: Colleague)
    }
    class Colleague {
        <<abstract>>
        #mediator: Mediator
        +Colleague(mediator)
    }
    class ConcreteColleagueA {
        +doSomething()
    }
    class ConcreteColleagueB {
        +doSomethingElse()
    }

    Mediator <|-- ConcreteMediator
    Colleague <|-- ConcreteColleagueA
    Colleague <|-- ConcreteColleagueB
    ConcreteMediator --> Colleague : knows
    Colleague --> Mediator : communicates via
    Client --> ConcreteMediator : creates
    Client --> ConcreteColleagueA : creates
    Client --> ConcreteColleagueB : creates
```

- **Client**: `ConcreteMediator`ì™€ `ConcreteColleague` ê°ì²´ë“¤ì„ ìƒì„±í•˜ê³  ì—°ê²°í•©ë‹ˆë‹¤.
- **ConcreteColleague**: ì–´ë–¤ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ `Mediator`ì—ê²Œ ì•Œë¦½ë‹ˆë‹¤ (`mediate()` í˜¸ì¶œ).
- **ConcreteMediator**: í•œ `Colleague`ë¡œë¶€í„° ë©”ì‹œì§€ë¥¼ ë°›ìœ¼ë©´, ê·¸ì— ë”°ë¥¸ ë¡œì§ì„ ìˆ˜í–‰í•˜ê³  í•„ìš”í•œ ë‹¤ë¥¸ `Colleague`ë“¤ì—ê²Œ í–‰ë™ì„ ì§€ì‹œí•©ë‹ˆë‹¤.

---

### **ì™œ ì¤‘ì¬ì íŒ¨í„´ì„ ì‚¬ìš©í•´ì•¼ í• ê¹Œìš”?**

ì¤‘ì¬ì íŒ¨í„´ì„ ë„ì…í•˜ë©´ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì ì€ ëª…í™•í•©ë‹ˆë‹¤.

- **ê²°í•©ë„ ê°ì†Œ**: Colleague ê°ì²´ë“¤ì€ ì„œë¡œ ì§ì ‘ ì•Œ í•„ìš”ê°€ ì—†ìœ¼ë©°, ì˜¤ì§ `Mediator`ë§Œ ì•Œë©´ ë©ë‹ˆë‹¤. ì´ëŠ” ê°ì²´ ê°„ì˜ ì˜ì¡´ì„±ì„ í¬ê²Œ ì¤„ì—¬ì¤ë‹ˆë‹¤.
- **ì¬ì‚¬ìš©ì„± ì¦ê°€**: ê° Colleague ê°ì²´ëŠ” ë‹¤ë¥¸ Colleagueë“¤ê³¼ ì§ì ‘ì ì¸ ì—°ê²°ì´ ì—†ìœ¼ë¯€ë¡œ, ë‹¤ë¥¸ ì‹œìŠ¤í…œì—ì„œ ì¬ì‚¬ìš©í•˜ê¸°ê°€ ë” ì‰¬ì›Œì§‘ë‹ˆë‹¤.
- **ì¤‘ì•™ ì§‘ì¤‘ ì œì–´**: ê°ì²´ ê°„ì˜ ë³µì¡í•œ ìƒí˜¸ì‘ìš© ë¡œì§ì´ `Mediator` í•œ ê³³ì— ì§‘ì¤‘ë©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì‹œìŠ¤í…œì˜ ë™ì‘ì„ ì´í•´í•˜ê³  ê´€ë¦¬í•˜ê¸°ê°€ ìˆ˜ì›”í•´ì§‘ë‹ˆë‹¤.
- **ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±**: ìƒí˜¸ì‘ìš© ë¡œì§ì„ ë³€ê²½í•´ì•¼ í•  ë•Œ, ì—¬ëŸ¬ Colleague í´ë˜ìŠ¤ë¥¼ ìˆ˜ì •í•  í•„ìš” ì—†ì´ `Mediator` í´ë˜ìŠ¤ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ë‹¨ì ë„ ì¡´ì¬í•©ë‹ˆë‹¤. ëª¨ë“  ë¡œì§ì´ `Mediator`ì— ì§‘ì¤‘ë˜ë©´ì„œ **`Mediator` ìì²´ê°€ ë¹„ëŒ€í•´ì§€ê³  ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤ (God Object)**. ì´ëŠ” ì˜¤íˆë ¤ ìœ ì§€ë³´ìˆ˜ë¥¼ ë” ì–´ë µê²Œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, íŒ¨í„´ì„ ì ìš©í•  ë•Œ ì‹ ì¤‘í•œ ì„¤ê³„ê°€ í•„ìš”í•©ë‹ˆë‹¤.

---

### **Javaì—ì„œì˜ ì¤‘ì¬ì íŒ¨í„´ í™œìš©**

ê°„ë‹¨í•œ ì±„íŒ…ë°© ì˜ˆì œë¥¼ í†µí•´ ì¤‘ì¬ì íŒ¨í„´ì„ ì´í•´í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ëª…ì˜ ì‚¬ìš©ìê°€ ì±„íŒ…ë°©(ì¤‘ì¬ì)ì„ í†µí•´ ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ëŠ” ìƒí™©ì…ë‹ˆë‹¤.

```java
import java.util.ArrayList;
import java.util.List;

// Mediator Interface
interface ChatMediator {
    void sendMessage(String msg, User user);
    void addUser(User user);
}

// Colleague (Abstract)
abstract class User {
    protected ChatMediator mediator;
    protected String name;

    public User(ChatMediator mediator, String name) {
        this.mediator = mediator;
        this.name = name;
    }

    public abstract void send(String msg);
    public abstract void receive(String msg);
}

// ConcreteMediator
class ChatRoom implements ChatMediator {
    private List<User> users;

    public ChatRoom() {
        this.users = new ArrayList<>();
    }

    @Override
    public void addUser(User user) {
        this.users.add(user);
    }

    @Override
    public void sendMessage(String msg, User user) {
        // ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ ì‚¬ìš©ìë¥¼ ì œì™¸í•œ ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ ì „ì†¡
        for (User u : this.users) {
            if (u != user) {
                u.receive(msg);
            }
        }
    }
}

// ConcreteColleague
class ChatUser extends User {
    public ChatUser(ChatMediator mediator, String name) {
        super(mediator, name);
    }

    @Override
    public void send(String msg) {
        System.out.println(this.name + " sends: " + msg);
        mediator.sendMessage(msg, this);
    }

    @Override
    public void receive(String msg) {
        System.out.println(this.name + " receives: " + msg);
    }
}

// Client
public class MediatorPatternDemo {
    public static void main(String[] args) {
        ChatMediator chatRoom = new ChatRoom();

        User user1 = new ChatUser(chatRoom, "Alice");
        User user2 = new ChatUser(chatRoom, "Bob");
        User user3 = new ChatUser(chatRoom, "Charlie");

        chatRoom.addUser(user1);
        chatRoom.addUser(user2);
        chatRoom.addUser(user3);

        user1.send("Hi everyone!");
    }
}
```

ì´ ì˜ˆì œì—ì„œ `ChatUser` ê°ì²´ë“¤ì€ ì„œë¡œì˜ ì¡´ì¬ë¥¼ ëª¨ë¦…ë‹ˆë‹¤. ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œ ì˜¤ì§ `ChatRoom`(ì¤‘ì¬ì)ì—ê²Œ ì „ë‹¬í•  ë¿ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ `ChatRoom`ì´ ì•Œì•„ì„œ ë‹¤ë¥¸ ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•´ ì¤ë‹ˆë‹¤. ìƒˆë¡œìš´ ì‚¬ìš©ìê°€ ì¶”ê°€ë˜ê±°ë‚˜ ê¸°ì¡´ ì‚¬ìš©ìê°€ ë‚˜ê°€ë”ë¼ë„ `ChatUser` ì½”ë“œëŠ” ì „í˜€ ë³€ê²½í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

---

### **ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì™€ ì¤‘ì¬ì íŒ¨í„´**

[[ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬(Spring Framework)]]ì˜ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì¤‘ í•˜ë‚˜ì¸ **`DispatcherServlet`**ì€ ì¤‘ì¬ì íŒ¨í„´ì˜ ì¢‹ì€ ì˜ˆì‹œì…ë‹ˆë‹¤.

ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´, `DispatcherServlet`ì´ ê°€ì¥ ë¨¼ì € ìš”ì²­ì„ ë°›ìŠµë‹ˆë‹¤. ê·¸ í›„, ì´ `DispatcherServlet`ì´ ì¤‘ì¬ì ì—­í• ì„ ìˆ˜í–‰í•˜ë©° ìš”ì²­ì„ ì²˜ë¦¬í•  ì ì ˆí•œ í•¸ë“¤ëŸ¬(`@Controller`)ë¥¼ ì°¾ê³ (`HandlerMapping`), í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ë©°(`HandlerAdapter`), ê²°ê³¼ë¥¼ ë·°(`ViewResolver`, `View`)ë¡œ ì „ë‹¬í•˜ì—¬ ìµœì¢… ì‘ë‹µì„ ìƒì„±í•˜ëŠ” ëª¨ë“  ê³¼ì •ì„ ì¡°ìœ¨í•©ë‹ˆë‹¤.

`Controller`, `HandlerMapping`, `ViewResolver` ë“±ì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ì„œë¡œ ì§ì ‘ í†µì‹ í•˜ì§€ ì•Šê³ , ì˜¤ì§ `DispatcherServlet`ì„ í†µí•´ì„œë§Œ ìƒí˜¸ì‘ìš©í•©ë‹ˆë‹¤. ì´ êµ¬ì¡° ë•ë¶„ì— ê° ì»´í¬ë„ŒíŠ¸ëŠ” ìì‹ ì˜ ì±…ì„ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆìœ¼ë©°, ì „ì²´ ì›¹ ìš”ì²­ ì²˜ë¦¬ íë¦„ì€ `DispatcherServlet`ì— ì˜í•´ ì¤‘ì•™ì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤.

---

### **ê²°ë¡ **

ì¤‘ì¬ì íŒ¨í„´ì€ ì—¬ëŸ¬ ê°ì²´ê°€ ì–½í˜€ìˆëŠ” ë³µì¡í•œ ê´€ê³„ë¥¼ ë‹¨ìˆœí•˜ê³  ëª…í™•í•œ êµ¬ì¡°ë¡œ ì¬êµ¬ì„±í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. ê°ì²´ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶° ì‹œìŠ¤í…œ ì „ì²´ì˜ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±, ìœ ì§€ë³´ìˆ˜ì„±ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

ë¬¼ë¡  ì¤‘ì¬ì ê°ì²´ê°€ ë„ˆë¬´ ë§ì€ ì±…ì„ì„ ë– ì•ˆì•„ ë³µì¡í•´ì§ˆ ìœ„í—˜ë„ ìˆì§€ë§Œ, ê°ì²´ ê°„ì˜ ìƒí˜¸ì‘ìš©ì´ ëª…í™•íˆ ì •ì˜ë˜ê³  í†µì œë˜ì–´ì•¼ í•˜ëŠ” ìƒí™©ì´ë¼ë©´ ì¤‘ì¬ì íŒ¨í„´ì€ í›Œë¥­í•œ í•´ê²°ì±…ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ì½”ë“œì— ì–½íˆê³ ì„¤í‚¨ ìŠ¤íŒŒê²Œí‹° ì½”ë“œê°€ ë³´ì¸ë‹¤ë©´, ì¤‘ì¬ì íŒ¨í„´ ë„ì…ì„ ê³ ë ¤í•´ ë³´ì‹œëŠ” ê±´ ì–´ë–¨ê¹Œìš”? ğŸ˜‰