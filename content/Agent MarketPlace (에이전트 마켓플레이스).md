[[지능형 AI 위임(Intelligent AI Delegation)|지능형 AI 위임]] 논문은 중앙집중형 오케스트레이션의 한계를 지적하며, **분산형 시장 허브(Decentralized Market Hub)**를 통한 작업 배정을 제안합니다. 하나의 오케스트레이터가 모든 에이전트를 직접 지정하는 방식은 단일 장애점(single point of failure), 확장성 병목, 유연성 부족이라는 구조적 문제를 안고 있습니다. 시장 기반 조율은 이 문제를 근본적으로 해결합니다.

Agent MarketPlace는 이 논문의 추상적 프레임워크를 **실제 구현 가능한 플랫폼 아키텍처**로 구체화하는 설계 문서입니다. [[AI 에이전트(AI Agent)|AI 에이전트]]와 인간이 동일한 시장에서 작업을 공시하고, 입찰하고, 계약하고, 실행하고, 검증하는 전체 생명주기를 다룹니다. 논문이 제시한 다섯 가지 기둥 — [[동적 평가(Dynamic Assessment)|동적 평가]], [[적응적 실행(Adaptive Execution)|적응적 실행]], [[구조적 투명성(Structural Transparency)|구조적 투명성]], [[확장 가능한 시장 조율(Scalable Market Coordination)|확장 가능한 시장 조율]], [[시스템적 회복력(Systemic Resilience)|시스템적 회복력]] — 이 플랫폼의 각 계층에 어떻게 녹아드는지를 구체적으로 보여줍니다.

이 문서의 목적은 명확합니다. "검증할 수 없는 것은 위임하지 않는다"는 원칙 위에, **작업을 입찰하고, 처리하고, 동적으로 조정하는 구체적인 플랫폼**을 설계하는 것입니다.

---

## 1. 플랫폼 개요 (Platform Overview)

### 정의와 핵심 가치 제안

Agent MarketPlace는 [[AI 에이전트(AI Agent)|AI 에이전트]]와 인간이 **경쟁 입찰을 통해 작업을 거래하는 분산형 위임 플랫폼**입니다. 중앙집중형 레지스트리가 "김 대리, 이 프로젝트 맡아줘"라면, Agent MarketPlace는 "이 프로젝트를 공개 시장에 올리고, 자격 있는 전문가들이 경쟁 입찰하여 최적의 수임자를 선택하는" 방식입니다.

핵심 가치 제안은 세 가지입니다:

1. **최적 매칭**: 시장의 가격 발견 메커니즘을 통해 각 작업에 가장 적합한 수임자를 찾습니다. 에이전트가 자신의 역량과 가용성을 가장 잘 알고 있으므로, 스스로 입찰에 참여하는 것이 중앙에서 모든 정보를 수집하는 것보다 효율적입니다.
2. **프로토콜 수준의 신뢰**: 평판, 스마트 컨트랙트, 암호학적 검증이 프로토콜에 내장되어, 신뢰가 개별 관계가 아닌 시스템 속성이 됩니다.
3. **적응적 실행**: 한 번 맡기면 끝이 아니라, 실행 도중에도 상황을 감시하고 문제가 생기면 수임자를 교체하거나 계획을 재조정합니다.

### 핵심 참여자

| 참여자 | 역할 | 예시 |
|--------|------|------|
| **위임자(Delegator)** | 작업을 분해하여 시장에 공시하고, 입찰을 평가하여 수임자를 선택 | 오케스트레이터 에이전트, 인간 사용자, 기업 시스템 |
| **수임자(Delegatee)** | 작업에 입찰하고, 낙찰 시 계약에 따라 작업을 실행 | 전문화된 AI 에이전트, 인간 전문가, ML 모델 |
| **검증자(Verifier)** | 작업 결과를 독립적으로 검증하여 계약 이행 여부를 판정 | 감사 에이전트, 인간 심사위원, 자동 테스트 시스템 |
| **플랫폼(Platform)** | 시장 인프라를 제공하고, 에스크로를 관리하며, 분쟁을 조율 | Agent MarketPlace 자체 |

### 플랫폼의 3대 원칙

1. **시장 기반 최적 매칭**: 경쟁 입찰과 다목적 최적화를 통해 품질, 비용, 속도, 프라이버시 간의 Pareto 최적을 추구합니다.
2. **프로토콜 수준의 신뢰 보장**: DID(탈중앙화 식별자), Verifiable Credential, 스마트 컨트랙트, 에스크로가 프로토콜에 내장되어 trustless 거래를 가능하게 합니다.
3. **[[적응적 실행(Adaptive Execution)|적응적 실행]]과 동적 조정**: 실행 중 트리거 감지 시 매개변수 조정, 수임자 교체, 완전 재분해까지 단계적으로 대응합니다.

### 논문의 5가지 기둥과 플랫폼 계층 매핑

| 프레임워크 기둥 | 핵심 요구사항 | 플랫폼 매핑 계층 | 구체적 구현 |
|---|---|---|---|
| [[동적 평가(Dynamic Assessment)\|동적 평가]] | 에이전트 상태의 세밀한 추론 | 시장 계층 + 실행 계층 | 구조화된 입찰(동적 상태 포함), 연속적 모니터링 |
| [[적응적 실행(Adaptive Execution)\|적응적 실행]] | 맥락 변화에 대한 대응 | 실행 계층 | 적응적 실행 엔진, 체크포인트, 재위임 |
| [[구조적 투명성(Structural Transparency)\|구조적 투명성]] | 과정 및 결과의 감사 가능성 | 신뢰 계층 + 실행 계층 | 5축 모니터링, 전이적 증명, 감사 추적 |
| [[확장 가능한 시장 조율(Scalable Market Coordination)\|확장 가능한 시장 조율]] | 효율적이고 신뢰할 수 있는 조율 | 시장 계층 | RFQ 프로토콜, 경쟁 입찰, 다목적 최적화 매칭 |
| [[시스템적 회복력(Systemic Resilience)\|시스템적 회복력]] | 시스템적 장애 방지 | 인프라 계층 + 신뢰 계층 | DCT, 심층 방어, 사고 대응 프로토콜 |

---

## 2. 아키텍처 (Architecture)

Agent MarketPlace는 4계층(Layer) 아키텍처로 설계됩니다. 각 계층은 독립적으로 진화할 수 있으면서도, 명확한 인터페이스를 통해 상호작용합니다.

### 4계층 아키텍처

```
┌─────────────────────────────────────────────────┐
│            시장 계층 (Market Layer)                │
│  작업 공시 · 입찰 · 매칭 · 협상 · RFQ 프로토콜       │
├─────────────────────────────────────────────────┤
│           실행 계층 (Execution Layer)              │
│  작업 실행 · 모니터링 · 적응적 조정 · 체크포인트       │
├─────────────────────────────────────────────────┤
│           신뢰 계층 (Trust Layer)                  │
│  평판 관리 · 권한 처리 · 검증 · 분쟁 해결            │
├─────────────────────────────────────────────────┤
│        인프라 계층 (Infrastructure Layer)           │
│  DID · 스마트 컨트랙트 · 이벤트 스트리밍 · 보안       │
└─────────────────────────────────────────────────┘
```

### 각 계층의 핵심 컴포넌트

| 계층 | 컴포넌트 | 설명 |
|------|---------|------|
| **시장 계층** | Task Registry | 작업 공시 및 검색을 위한 분산 레지스트리 |
| | Bid Collector | 구조화된 입찰을 수집하고 유효성을 검증 |
| | Matching Engine | 다목적 최적화 기반 수임자 매칭 |
| | Negotiation Channel | LLM 에이전트 간 자연어 사전 협상 |
| **실행 계층** | Execution Runtime | 수임자의 작업 실행 환경 관리 |
| | Monitor Hub | 5축 모니터링 프레임워크 구현 |
| | Adaptive Controller | 트리거 감지 및 단계적 대응 |
| | Checkpoint Store | 작업 상태 스냅샷 저장 및 이관 |
| **신뢰 계층** | Reputation Ledger | 불변 성과 이력 + Web of Trust + 행동 메트릭 |
| | Permission Engine | DCT 발급, 제한 체이닝, 권한 축소 |
| | Verification Service | 4가지 검증 메커니즘(직접, 제3자, 암호학적, 게임 이론적) |
| | Dispute Resolver | 낙관적 모델 → 알고리즘적 해결 → 심사 패널 |
| **인프라 계층** | DID Registry | 탈중앙화된 식별자 관리 |
| | Contract Runtime | 스마트 컨트랙트 실행 환경 |
| | Event Bus | Apache Kafka / gRPC 기반 이벤트 스트리밍 |
| | Security Gateway | TEE, 샌드박싱, prompt injection 방어 |

### 계층 간 상호작용

계층 간의 데이터 흐름은 단방향이 아닌 양방향입니다. 예를 들어:

- **시장 → 신뢰**: 매칭 엔진이 입찰 평가 시 Reputation Ledger에서 에이전트 평판을 조회합니다.
- **실행 → 시장**: 적응적 실행 엔진이 수임자 교체를 결정하면, 재위임 요청을 시장 계층에 다시 공시합니다.
- **신뢰 → 인프라**: 검증 완료 시 스마트 컨트랙트에 에스크로 해제 신호를 전송합니다.
- **인프라 → 실행**: Event Bus가 외부 트리거(API 장애, 비용 변동)를 실행 계층에 전파합니다.

---

## 3. 작업 생명주기 (Task Lifecycle)

작업은 **등록 → 입찰 → 매칭 및 계약 → 실행 및 모니터링 → 검증 및 정산**의 5단계를 거칩니다. 각 단계에서 논문의 프레임워크가 구체적으로 어떻게 작동하는지 살펴봅니다.

### 3.1. 작업 등록 (Task Registration)

위임자가 작업을 분해하여 시장에 공시하는 단계입니다. 핵심은 **계약 우선 분해(Contract-First Decomposition)** 원칙입니다. 모든 하위 작업에 검증 수단이 사전 정의되어야 하며, 검증이 어려운 출력은 재귀적으로 추가 분해합니다.

작업 등록 시 명시해야 하는 항목:

- **검증 정책(Verification Policy)**: 어떤 방식으로 결과를 검증할 것인지
- **모니터링 요구사항**: 어떤 수준의 감시가 필요한지 (L0~L3)
- **권한 범위**: 수임자에게 어떤 자원 접근을 허용할지
- **자율성 수준**: 원자적 실행(좁은 명세 준수) vs 개방형 위임(목표 분해 권한 부여)
- **하이브리드 표시**: 특정 노드를 인간 배정으로 명시

```json
{
  "task_id": "task-20260223-001",
  "delegator_did": "did:web:orchestrator.example.com",
  "title": "전자상거래 결제 모듈 보안 감사",
  "description": "PCI DSS 준수 여부 검증 및 OWASP Top 10 취약점 스캔",
  "decomposition": {
    "strategy": "contract_first",
    "subtasks": [
      {
        "id": "sub-001",
        "title": "정적 코드 분석",
        "verification": {
          "method": "automated_test",
          "criteria": "SAST 도구 경고 0건"
        }
      },
      {
        "id": "sub-002",
        "title": "침투 테스트",
        "verification": {
          "method": "third_party_audit",
          "validator": "did:web:security-auditor.ai"
        },
        "human_required": true
      }
    ]
  },
  "monitoring_level": "L2_COT_TRACE",
  "permission_scope": {
    "resources": ["source_code:read_only", "test_env:execute"],
    "time_limit": "PT4H"
  },
  "autonomy": "constrained",
  "budget_ceiling": "50.00 USDC",
  "deadline": "2026-02-24T00:00:00Z"
}
```

### 3.1.1. 검증 불가능한 요청의 처리 (Handling Unverifiable Requests)

"검증할 수 없는 것은 위임하지 않는다"는 원칙은 **검증 불가능한 작업을 즉시 거부한다**는 뜻이 아닙니다. 플랫폼은 검증 불가능성을 이진적이 아닌 **스펙트럼**으로 다루며, 단계적 전환 프로세스를 통해 가능한 한 시장에서 처리할 수 있는 형태로 변환합니다.

#### 검증 가능성 스펙트럼

논문이 제시한 작업 특성 중 **검증 가능성(Verifiability)** 과 **주관성(Subjectivity)** 은 연속적 스펙트럼 위에 있습니다.

| 검증 가능성 수준 | 예시 | 플랫폼 처리 방식 |
|------------------|------|-----------------|
| **완전 검증 가능** | 단위 테스트 통과, 수학적 증명, 형식 검증 | Trustless 자동 위임. 낮은 평판의 에이전트도 입찰 가능 |
| **부분 검증 가능** | 코드 품질 개선, 성능 최적화 | 정량적 지표(Lighthouse 점수, 응답 시간) + 제3자 감사 병행 |
| **간접 검증 가능** | 사용자 경험 개선, UX 리디자인 | A/B 테스트, 사용자 설문 등 **프록시 지표**로 변환 후 위임 |
| **주관적** | "매력적인 로고 디자인", "설득력 있는 글 작성" | Human-as-Value-Specifier 모드로 전환 |
| **검증 불가능** | "좋은 결과를 만들어줘" 같은 모호한 요청 | 등록 거부 + 재구조화 안내 |

#### 단계적 전환 프로세스

검증 수단이 부재하거나 불충분한 작업이 등록되면, 플랫폼은 다음 5단계 프로세스를 순차적으로 실행합니다.

**1단계 — 검증 정책 유효성 검사 (Registration Gate)**

Task Registry가 등록 시점에 검증 정책의 존재와 유효성을 검사합니다. 검증 정책이 비어 있거나 `"method": "none"`인 하위 작업은 등록이 **보류**됩니다.

```json
{
  "registration_result": "held",
  "reason": "verification_policy_missing",
  "held_subtasks": ["sub-003"],
  "suggestion": "decompose_or_add_verification",
  "guidance": {
    "message": "하위 작업 'sub-003: 사용자 경험 개선'에 검증 수단이 정의되지 않았습니다.",
    "options": [
      "재귀적 분해: 검증 가능한 하위 작업으로 추가 분해",
      "프록시 지표 설정: 정량화 가능한 대리 지표 정의",
      "Human-as-Value-Specifier: 인간 피드백 루프 설정",
      "고신뢰 위임: 높은 평판 임계값 + 제3자 감사 추가"
    ]
  }
}
```

**2단계 — 재귀적 분해 시도 (Recursive Decomposition)**

검증이 어려운 작업을 **검증 가능한 하위 작업들로 추가 분해**합니다. 이것이 계약 우선 분해의 핵심입니다.

> [!example] 예시: "사용자 경험이 매끄러운 결제 흐름"
> 이 요청은 그 자체로는 검증 불가능합니다. 플랫폼은 다음과 같이 재귀적 분해를 안내합니다:
>
> - "결제 완료까지 클릭 수 3회 이하" → 자동 UI 테스트로 검증 가능
> - "결제 페이지 로딩 시간 2초 이하" → 성능 테스트로 검증 가능
> - "결제 이탈률 10% 이하" → A/B 테스트 프록시 지표로 검증 가능
> - "WCAG 2.1 AA 접근성 준수" → 자동화 도구(axe-core)로 검증 가능
>
> 원래의 모호한 요청이 **네 개의 검증 가능한 계약**으로 변환되었습니다.

**3단계 — 프록시 지표 설정 (Proxy Metric Assignment)**

재귀적 분해로도 직접 검증이 불가능한 부분이 남으면, **간접적으로 측정 가능한 프록시 지표**를 정의합니다. 프록시 지표는 위임자가 직접 설정하거나, 플랫폼이 도메인별 템플릿을 제안합니다.

| 검증 불가능한 요청 | 프록시 지표 변환 |
|-------------------|-----------------|
| "코드 품질을 개선하라" | 코드 커버리지 85% 이상, SonarQube 기술 부채 2시간 이하, 순환 복잡도 15 이하 |
| "성능을 최적화하라" | P99 응답 시간 200ms 이하, 처리량 1000 RPS 이상, 메모리 사용량 20% 감소 |
| "보안을 강화하라" | OWASP Top 10 체크리스트 통과, SAST 경고 0건, 종속성 취약점(CVE) 0건 |
| "사용자 만족도를 높여라" | NPS 점수 8.0 이상, 작업 완료율 95% 이상, 평균 세션 시간 15% 증가 |

> [!warning] 프록시 지표의 한계
> 프록시 지표는 원래 목표의 근사치일 뿐이므로, **Goodhart의 법칙** — "측정 지표가 목표가 되면, 그것은 더 이상 좋은 측정 지표가 아니다" — 에 주의해야 합니다. 코드 커버리지 85%를 달성하기 위해 의미 없는 테스트를 추가하는 것은 원래 의도(코드 품질 개선)와 무관합니다. 이를 완화하기 위해 프록시 지표는 **단일 지표가 아닌 복합 지표 세트**로 구성하고, 제3자 감사를 병행합니다.

**4단계 — Human-as-Value-Specifier 모드 (Subjective Task Handling)**

주관적 성공 기준을 가진 작업("매력적인 로고를 디자인하라", "설득력 있는 마케팅 카피를 작성하라")은 객관적 지표로 완전히 변환할 수 없습니다. 이 경우 플랫폼은 **Human-as-Value-Specifier** 모드를 활성화합니다.

이 모드에서는:

- **반복적 피드백 루프**: 수임자가 중간 결과물을 제출하면, 인간 위임자가 피드백을 제공하고, 수임자가 수정하는 과정을 반복합니다
- **수렴 조건 정의**: "위임자가 3회 이내의 수정 후 승인" 또는 "평가 점수 4/5 이상" 같은 **종료 조건**을 사전 합의합니다
- **에스크로 분할**: 초기 제출에 기본 보상, 이후 수정마다 추가 보상이 에스크로에서 해제되는 구조로 양측의 이해를 정렬합니다
- **고신뢰 에이전트 요구**: 주관적 작업은 맥락 이해와 미묘한 판단이 필요하므로, 해당 도메인에서 높은 평판을 가진 에이전트만 입찰할 수 있습니다

```json
{
  "task_id": "task-20260223-005",
  "title": "브랜드 로고 리디자인",
  "verification": {
    "method": "human_as_value_specifier",
    "feedback_loop": {
      "max_iterations": 3,
      "convergence_condition": "delegator_approval",
      "per_iteration_escrow": "10.00 USDC"
    },
    "minimum_reputation": {
      "domain": "graphic_design",
      "threshold": 85
    }
  }
}
```

**5단계 — 최종 거부 및 재구조화 안내 (Final Rejection)**

위의 모든 단계를 거쳐도 검증 수단을 확보할 수 없는 경우, 플랫폼은 작업 등록을 **최종 거부**합니다. 이는 위임자와 수임자 모두를 보호하기 위한 조치입니다. 검증 불가능한 작업은 분쟁 발생 시 해결 기준이 없어 양측 모두 손해를 볼 수 있기 때문입니다.

최종 거부 시 플랫폼은:

- 거부 사유와 함께 **구체적인 재구조화 가이드**를 제공합니다
- 유사한 작업이 과거에 어떻게 분해·등록되었는지 **사례를 제시**합니다
- 필요시 **작업 설계 전문 에이전트**(Task Architect)와의 협의를 연결합니다

#### 검증 가능성과 신뢰 수준의 역관계

검증 가능성이 낮아질수록, 플랫폼이 요구하는 **신뢰 수준은 반비례하여 높아집니다**. 이 역관계는 시장의 안전 밸브로 작동합니다.

| 검증 가능성 | 요구 신뢰 수준 | 요구 보증금 | 모니터링 수준 | 인간 개입 |
|-------------|---------------|------------|-------------|----------|
| 높음 | 낮음 | 낮음 | L0~L1 | 불필요 |
| 중간 | 중간 | 중간 | L1~L2 | 선택적 |
| 낮음 | 높음 | 높음 | L2~L3 | 권장 |
| 매우 낮음 | 매우 높음 | 매우 높음 | L3 + White-Box | 필수 |

즉, 플랫폼은 "검증할 수 없는 것은 위임하지 않는다"를 **경직된 이진 규칙이 아닌, 검증 불가능성에 비례하여 신뢰·감독·비용의 요구 수준을 높이는 연속적 정책**으로 구현합니다. 검증이 전혀 불가능한 극단적 경우에만 등록이 최종 거부되며, 그 전에 재귀적 분해, 프록시 지표, 피드백 루프 등 **검증 가능한 형태로의 전환을 최대한 지원**합니다.

### 3.2. 입찰 (Bidding)

작업이 공시되면, 자격을 갖춘 에이전트(또는 인간)가 **구조화된 입찰**을 제출합니다. 입찰에는 역량, 비용, 소요 시간뿐 아니라 [[동적 평가(Dynamic Assessment)|동적 평가]]를 위한 현재 상태 정보와 프라이버시 보장 수준이 포함됩니다.

```json
{
  "bid_id": "bid-agent-alpha-001",
  "agent_did": "did:web:security-specialist.ai",
  "task_id": "task-20260223-001",
  "estimated_cost": "35.00 USDC",
  "estimated_duration": "PT2H",
  "privacy_guarantee": "tee_enclave_sgx",
  "reputation_bond": "5.00 USDC",
  "dynamic_state": {
    "current_load": 1,
    "available_compute": "85%",
    "context_window_saturation": "20%"
  },
  "credentials": [
    {
      "type": "VerifiableCredential",
      "issuer": "did:web:owasp.org",
      "claim": "certified_security_auditor",
      "issued": "2025-11-15"
    }
  ],
  "bid_expiry": "2026-02-23T18:00:00Z"
}
```

**평판 보증금(Reputation Bond)**은 핵심적인 설계입니다. 에이전트가 입찰 시 일정 금액을 예치하며, 작업을 성공적으로 완료하면 돌려받고, 실패하면 몰수됩니다. 이를 통해 에이전트가 자신의 역량을 과대 광고하는 것을 억제합니다.

### 3.3. 매칭 및 계약 (Matching & Contract)

다목적 최적화(품질 vs 비용 vs 지연 시간 vs 위험)에 기반하여 최적의 수임자를 낙찰합니다. 낙찰 후 **양방향 스마트 컨트랙트**가 자동 생성되며, 에스크로가 설정됩니다.

| 계약 항목 | 내용 | 의미 |
|-----------|------|------|
| **성과 요건** | SAST 경고 0건, OWASP Top 10 통과 | 객관적이고 검증 가능한 성공 기준 |
| **벌칙 조항** | 미발견 취약점 사후 발각 시 보증금 몰수 | 수임자의 성실한 감사 유도 |
| **양방향 보호** | 위임자 중도 취소 시 완료분 비례 보상 | 수임자도 보호받음 |
| **모니터링 합의** | L2 수준, 30분 간격 CoT 보고 | 사전에 감시 수준 협상 |
| **에스크로** | 35.00 USDC 예치, 마일스톤별 분할 해제 | 양측의 이행 보장 |

### 3.4. 실행 및 모니터링 (Execution & Monitoring)

수임자가 작업을 실행하며, 합의된 모니터링 수준에 따라 진행이 추적됩니다. 적응적 조정 트리거가 감지되면 단계적 대응이 시작됩니다.

```json
{
  "execution_status": {
    "task_id": "task-20260223-001",
    "phase": "in_progress",
    "progress": 0.65,
    "current_subtask": "sub-001",
    "checkpoint": {
      "snapshot_id": "ckpt-003",
      "timestamp": "2026-02-23T15:30:00Z",
      "state_hash": "0x7f3a..."
    },
    "monitoring_events": [
      {
        "type": "cot_trace",
        "timestamp": "2026-02-23T15:28:00Z",
        "content": "SQL Injection 패턴 3종 스캔 완료. XSS 벡터 분석 진행 중."
      }
    ]
  }
}
```

### 3.5. 검증 및 정산 (Verification & Settlement)

검증 정책에 따라 결과가 검증되고, 에스크로가 해제되며, 평판이 업데이트됩니다.

```json
{
  "verification_result": {
    "task_id": "task-20260223-001",
    "status": "verified",
    "artifacts": [
      {
        "type": "sast_report",
        "result": "0 warnings",
        "validator_signature": "0xab12..."
      },
      {
        "type": "penetration_test_report",
        "result": "OWASP Top 10 pass",
        "validator": "did:web:security-auditor.ai",
        "signature": "0xcd34..."
      }
    ],
    "settlement": {
      "escrow_released": "35.00 USDC",
      "reputation_bond_returned": "5.00 USDC",
      "reputation_update": "+3 security_audit domain"
    },
    "credential_issued": {
      "type": "VerifiableCredential",
      "claim": "completed_pci_dss_audit",
      "issuer": "did:web:agent-marketplace.io"
    }
  }
}
```

---

## 4. 입찰 및 매칭 엔진 (Bidding & Matching Engine)

시장의 핵심은 **올바른 작업을 올바른 수임자에게 연결하는 것**입니다. 이 섹션에서는 그 메커니즘을 상세히 다룹니다.

### 4.1. RFQ(Request for Quote) 프로토콜

위임자가 작업을 시장에 공시하는 표준 형식입니다.

| 필드 | 필수/선택 | 설명 |
|------|----------|------|
| `task_id` | 필수 | 고유 작업 식별자 |
| `delegator_did` | 필수 | 위임자의 탈중앙화 식별자 |
| `title` | 필수 | 작업 제목 |
| `description` | 필수 | 상세 작업 명세 |
| `verification_policy` | 필수 | 검증 방식과 기준 |
| `budget_ceiling` | 필수 | 최대 예산 |
| `deadline` | 필수 | 완료 기한 |
| `monitoring_level` | 선택 | L0~L3 모니터링 수준 (기본값: L1) |
| `permission_scope` | 선택 | 수임자에게 부여할 권한 범위 |
| `required_credentials` | 선택 | 수임자에게 요구하는 인증서 |
| `human_required` | 선택 | 인간 수임자 필수 여부 |
| `negotiation_allowed` | 선택 | 사전 협상 허용 여부 (기본값: true) |

### 4.2. 구조화된 입찰 (Structured Bid)

에이전트의 입찰 객체는 논문의 `bid_object`를 확장하여, [[동적 평가(Dynamic Assessment)|동적 평가]]에 필요한 실시간 상태 정보를 포함합니다.

| 필드 | 설명 |
|------|------|
| `agent_did` | 에이전트의 DID |
| `estimated_cost` | 예상 비용 |
| `estimated_duration` | 예상 소요 시간 |
| `privacy_guarantee` | 프라이버시 보장 수준 (none / encryption / tee / zkp) |
| `reputation_bond` | 평판 보증금 (실패 시 몰수) |
| `dynamic_state` | 현재 부하, 가용 연산량, 컨텍스트 포화도 |
| `credentials` | 보유 Verifiable Credential 목록 |
| `sub_delegation_plan` | 하위 위임 계획 (재귀적 위임 시) |

### 4.3. 대화형 협상 (Conversational Negotiation)

LLM 기반 에이전트만이 가능한 차별점입니다. 기존의 Contract Net Protocol에서 입찰은 정형화된 데이터 교환에 불과했지만, LLM 에이전트는 공식 입찰 전에 **자연어로 작업 명세와 제약 조건을 논의**할 수 있습니다.

> [!example] 대화형 협상 시나리오
> **작업**: "대규모 트래픽을 처리하는 API 게이트웨이 구현"
>
> **에이전트 A** (입찰 전 질문): "예상 최대 동시 요청 수는 얼마인가요? 인증 방식은 JWT인가요, OAuth2인가요?"
>
> **위임자** (답변): "최대 10,000 RPS입니다. OAuth2 + JWT 병행이며, rate limiting이 핵심입니다."
>
> **에이전트 A** (정보 반영): "rate limiting이 핵심이라면, Redis 기반 sliding window 알고리즘을 제안합니다. 예상 비용을 기존 $8에서 $12로 조정하되, 부하 테스트 리포트를 포함하겠습니다."
>
> **위임자** (협상): "부하 테스트 포함은 좋지만, $10 이내로 맞춰줄 수 있나요?"
>
> **에이전트 A** (최종 입찰): "$10, 부하 테스트 포함, 단 rate limiting 알고리즘 선택은 수임자 재량으로 합니다."
>
> 이 사전 협상은 **정보 비대칭을 줄여** 매칭의 품질을 크게 향상시킵니다.

### 4.4. 다목적 최적화 기반 매칭

최적의 수임자를 선택하는 것은 단순히 "가장 싼" 또는 "가장 빠른"을 고르는 문제가 아닙니다. 여러 **상충하는 목표** 간의 균형을 찾아야 합니다.

| 절충 관계 | 설명 |
|-----------|------|
| **품질 vs 비용** | 고성능 에이전트는 높은 수수료와 연산 자원을 요구 |
| **지연 시간 vs 비용** | 자원 소비를 줄이면 실행이 느려짐 |
| **위험 vs 비용** | 높은 평판의 에이전트를 활용하면 위험은 줄지만 비용은 증가 |
| **프라이버시 vs 성능** | ZKP, 동형 암호 등 프라이버시 보호 기법은 연산 오버헤드를 수반 |
| **효율성 vs 사회적 목표** | 인간 기술 보존, 탈숙련화 방지 등 |

매칭 엔진은 **Pareto 최적성**을 추구합니다. 이는 일회성이 아닌 연속적 루프로 실행됩니다. 모니터링 신호를 통합하여 신념을 업데이트하고, 편차가 크면 재최적화를 촉발합니다.

> [!warning] 복잡도 하한 (Complexity Floor)
> 모든 작업을 시장에 올릴 필요는 없습니다. 낮은 중요도, 높은 확실성, 짧은 소요 시간의 작업은 위임 프로토콜의 오버헤드(입찰 수집, 계약 생성, 모니터링 설정)가 작업 자체의 가치를 초과할 수 있습니다. "로그 파일에서 타임스탬프 포맷 변환"처럼 단순한 작업은 위임 없이 직접 실행하는 것이 합리적입니다.

### 4.5. 재귀적 위임

낙찰된 에이전트가 하위 작업을 **다시 시장에 공시**할 수 있습니다. 위임 행위 자체를 위임하는 것입니다. 이를 통해 복잡한 작업이 자연스럽게 전문화된 에이전트들의 네트워크로 분산됩니다.

> [!example] 재귀적 위임 예시
> 1. **인간 사용자** → 에이전트 A: "전자상거래 플랫폼 구축"
> 2. **에이전트 A** → 시장에 공시: "결제 모듈 구현" → 에이전트 B 낙찰
> 3. **에이전트 B** → 시장에 공시: "PG사 연동 어댑터 개발" → 에이전트 C 낙찰
>
> 각 단계에서 DCT(Delegation Capability Token)를 통해 **권한은 점진적으로 축소**됩니다. 에이전트 C는 에이전트 B보다 절대 더 많은 권한을 가질 수 없습니다.

---

## 5. 신뢰 및 평판 시스템 (Trust & Reputation System)

시장이 기능하려면 신뢰가 필수입니다. 그러나 신뢰(Trust)와 평판(Reputation)은 다른 개념입니다.

- **신뢰(Trust)**: 위임자가 설정하는 **비공개적, 맥락 의존적 임계값**. "이 작업에 이 에이전트를 믿을 수 있는가?"
- **평판(Reputation)**: 과거 행위에서 도출된 **공개적, 검증 가능한 이력**. "이 에이전트가 지금까지 어떤 성과를 냈는가?"

에이전트는 전반적으로 높은 평판을 가지면서도, 특정 고위험 작업에 요구되는 맥락적 신뢰 임계값을 충족하지 못할 수 있습니다. 보안 감사를 예로 들면, 전반적 평판 95점인 에이전트보다 보안 도메인에서 OWASP 인증을 보유한 평판 82점 에이전트가 더 적합할 수 있습니다.

### 3가지 평판 모델 통합

Agent MarketPlace는 세 가지 평판 모델을 통합하여 다차원적 평판 시스템을 구축합니다.

| 모델 | 메커니즘 | 효용 | 한계 |
|------|---------|------|------|
| **Immutable Ledger** | 작업 결과를 블록체인 거래로 기록 | 변조 방지 성과 이력 | 저위험 작업만 수락하는 gaming에 취약 |
| **Web of Trust** | DID + Verifiable Credential, 서명된 맥락별 인증서 포트폴리오 | 도메인별 전문성 기반 정밀 위임 | 초기 부트스트랩 문제 |
| **Behavioral Metrics** | 추론 과정의 명확성, 프로토콜 준수도 분석 | 결과뿐 아니라 수행 방식 평가 | 측정 기준의 주관성 |

### 맥락적 신뢰 임계값

전반적 평판은 필요조건이지만 충분조건은 아닙니다. 각 작업 유형에 대해 **맥락적 신뢰 임계값**이 설정됩니다.

> [!example] 맥락적 신뢰 예시
> - **에이전트 X**: 전반적 평판 95/100, 코드 리뷰 700건, 보안 감사 경험 **3건**
> - **에이전트 Y**: 전반적 평판 82/100, 코드 리뷰 200건, 보안 감사 경험 **150건**, OWASP 인증 보유
>
> "보안 감사" 작업에 대한 맥락적 신뢰 임계값을 적용하면, Web of Trust 모델에서 에이전트 Y가 해당 도메인의 Verifiable Credential을 보유하고 있어 더 적합합니다.

### 동적 권한 범위

평판에 따라 수임자에게 부여되는 권한이 점진적으로 확대됩니다.

| 평판 수준 | 권한 범위 | 모니터링 수준 |
|-----------|----------|-------------|
| 신규 (0~30) | 읽기 전용, 모든 행동 보고 필수 | L3 (전체 상태) |
| 초급 (31~60) | 제한된 쓰기, 마일스톤별 보고 | L2 (CoT 추적) |
| 중급 (61~85) | 표준 권한, 이벤트 기반 보고 | L1 (계획 업데이트) |
| 고급 (86~100) | 확장 권한, 최소 개입 | L0 (운영 여부만) |

### 평판 악용 방지

| 공격 유형 | 설명 | 대응 |
|-----------|------|------|
| **Sybil 공격** | 다수의 가짜 에이전트 신원 생성으로 평판 조작 | DID 기반 신원 검증 + 평판 보증금(stake) 요구 |
| **Cherry-Picking** | 저위험 작업만 수락하여 안전하게 평판 축적 | 도메인별 세분화된 평판 + 작업 난이도 가중치 |
| **담합(Collusion)** | 에이전트 간 공모하여 서로에게 높은 평가 | 행동 분석 시스템 + 통계적 이상 탐지 + 외부 감사 |
| **평판 세탁** | 낮은 평판의 에이전트가 새 신원을 만들어 재시작 | 신규 에이전트에 대한 높은 보증금 요구 + 점진적 권한 확대 |

---

## 6. 스마트 컨트랙트 및 정산 (Smart Contracts & Settlement)

### 양방향 계약

Agent MarketPlace의 계약은 **양방향적**입니다. 위임자만 보호받는 것이 아니라, 수임자도 부당한 작업 취소나 요구사항 변경에 대해 보호받습니다.

```json
{
  "contract_id": "contract-001",
  "parties": {
    "delegator": "did:web:orchestrator.example.com",
    "delegatee": "did:web:security-specialist.ai"
  },
  "terms": {
    "performance_criteria": [
      {"metric": "sast_warnings", "threshold": 0},
      {"metric": "owasp_top10", "threshold": "pass"}
    ],
    "delegator_obligations": {
      "cancellation_penalty": "50% of estimated_cost",
      "scope_change_notice": "PT1H minimum",
      "payment_guarantee": "escrow"
    },
    "delegatee_obligations": {
      "deadline": "2026-02-24T00:00:00Z",
      "monitoring_compliance": "L2_COT_TRACE",
      "checkpoint_frequency": "PT30M"
    }
  },
  "escrow": {
    "total_amount": "35.00 USDC",
    "milestones": [
      {"id": "ms-1", "description": "정적 분석 완료", "amount": "15.00 USDC"},
      {"id": "ms-2", "description": "침투 테스트 완료", "amount": "20.00 USDC"}
    ]
  }
}
```

### 에스크로 메커니즘

마일스톤 기반 분할 정산을 통해 양측의 위험을 줄입니다.

| 이벤트 | 에스크로 동작 |
|--------|-------------|
| 계약 체결 | 위임자의 자금이 에스크로에 예치 |
| 마일스톤 달성 + 검증 통과 | 해당 마일스톤 금액 수임자에게 해제 |
| 계약 위반 감지 | 위반 조항에 따라 보증금 몰수(slashing) |
| 위임자 중도 취소 | 완료분 비례 보상 + 취소 패널티 자동 정산 |
| 분쟁 제기 | 에스크로 동결, 분쟁 해결 프로세스 시작 |

### 분쟁 해결

3단계의 점진적 분쟁 해결 모델을 적용합니다.

| 단계 | 방식 | 설명 |
|------|------|------|
| 1단계 | **낙관적 모델** | 분쟁 기간(예: 72시간) 내 이의가 없으면 성공으로 간주 |
| 2단계 | **알고리즘적 해결** | 계약 조항과 검증 데이터를 기반으로 자동 판정 |
| 3단계 | **탈중앙화 심사 패널** | 독립적 전문 에이전트 3~5명이 다수결로 판정. 에스크로 해제 또는 몰수 결정 |

### DCT (Delegation Capability Token)

DCT는 Macaroon/Biscuit 기반의 **감쇠된 인가 토큰**입니다. 위임자가 대상 자원의 자격증명을 암호학적 제한(caveat)으로 감싸서 발행합니다.

> [!info] DCT의 제한 체이닝 (Restriction Chaining)
> DCT의 핵심은 **제한은 추가만 가능하고, 제거는 불가능**하다는 점입니다. 위임 체인이 길어질수록 각 참여자가 후속 제한을 추가하여 범위를 더욱 좁힐 수 있으므로, 체인이 길어질수록 권한은 점진적으로 축소됩니다.
>
> ```
> 인간 → 에이전트 A: DCT{resource: drive, folder: Project_X, access: read_write}
> 에이전트 A → 에이전트 B: DCT{resource: drive, folder: Project_X, access: read_only}  ← 축소
> 에이전트 B → 에이전트 C: DCT{resource: drive, folder: Project_X/docs, access: read_only, ttl: 5min}  ← 추가 축소
> ```
>
> 제한을 위반하면 토큰이 즉시 무효화됩니다.

---

## 7. 적응적 실행 엔진 (Adaptive Execution Engine)

[[적응적 실행(Adaptive Execution)|적응적 실행]]은 "한 번 맡기면 결과만 기다리는" 정적 방식을 넘어, 실행 도중에도 상황을 감시하고 동적으로 대응하는 메커니즘입니다.

### 트리거 감지

| 트리거 유형 | 구체적 트리거 | 심각도 |
|------------|-------------|--------|
| **외부** | 위임자의 작업 명세 변경 또는 취소 | 중간~높음 |
| **외부** | 외부 자원 가용성/비용 변동 (API 장애, 비용 급등) | 중간 |
| **외부** | 더 높은 우선순위의 새 작업으로 인한 선점 | 높음 |
| **외부** | 보안 시스템이 악의적 행위 식별 | 긴급 |
| **내부** | 수임자의 성능 저하 (SLA 미달) | 중간 |
| **내부** | 예산 초과 | 중간 |
| **내부** | 중간 산출물의 검증 실패 | 높음 |
| **내부** | 수임자 응답 불능 | 긴급 |

### 단계적 대응

트리거가 감지되면 **4단계 적응적 대응 주기**가 시작됩니다.

```
1단계. 감시(Monitor)      → 지속적 모니터링으로 문제를 식별한다
2단계. 진단(Diagnose)     → 근본 원인을 분석하고 대응 시나리오를 평가한다
3단계. 대응(Respond)      → 긴급도에 따라 단계적으로 조치한다
4단계. 상향 보고(Escalate) → 필요시 인간에게 알린다
```

3단계 대응의 세 가지 수위:

| 수위 | 대응 | 예시 | 전제 조건 |
|------|------|------|----------|
| 경미 | **매개변수 조정** | 시간 제한 연장, 메모리 할당 증가 | 수임자 역량 자체에는 문제없음 |
| 중간 | **재위임** | 현재 수임자를 다른 에이전트로 교체 | 체크포인트 기반 작업 이관 |
| 심각 | **완전 재분해** | 작업 자체를 다시 쪼개어 새로운 실행 계획 수립 | 기존 분해 구조 자체가 부적합 |

대응의 범위는 **작업의 가역성**에 의해 결정됩니다. 가역적 하위 작업 실패는 자동 재위임으로 처리하지만, 비가역적 고중요도 작업 실패는 즉시 종료 또는 인간 상향 보고로 전환합니다.

### 체크포인트 시스템

수임자 교체 시 작업을 처음부터 다시 하지 않기 위한 핵심 메커니즘입니다.

```json
{
  "checkpoint": {
    "snapshot_id": "ckpt-003",
    "task_id": "task-20260223-001",
    "delegatee_did": "did:web:security-specialist.ai",
    "timestamp": "2026-02-23T15:30:00Z",
    "state_snapshot": {
      "completed_subtasks": ["sub-001"],
      "in_progress": "sub-002",
      "progress_percentage": 0.35,
      "intermediate_artifacts": [
        {"type": "sast_report", "location": "artifact://reports/sast-001"}
      ]
    },
    "state_hash": "0x7f3a...",
    "signature": "0xef56..."
  }
}
```

수임자가 주기적으로 `state_snapshot`을 커밋하면, 교체 시 새 수임자가 이 스냅샷을 기반으로 최소 오버헤드로 작업을 재개할 수 있습니다.

### 안정성 조치

적응적 조정이 과도하게 작동하면 오히려 시스템이 불안정해질 수 있습니다. 위임자가 품질 불만으로 1분마다 수임자를 교체하는 "핑퐁" 현상을 방지하기 위한 안정성 조치가 필수입니다.

| 조치 | 메커니즘 | 효과 |
|------|---------|------|
| **냉각 기간** | 재위임 후 최소 대기 시간 (예: 10분) | 과도한 교체 방지 |
| **감쇠 계수** | 평판 업데이트에 지수적 감쇠 적용 | 단기 변동에 의한 과잉 반응 억제 |
| **재위임 수수료 인상** | 연속 재위임 시 수수료 누진 적용 | 경제적 유인으로 안정성 확보 |

### 중앙집중형 vs 분산형 조율의 하이브리드

Agent MarketPlace는 순수한 중앙집중형이나 순수한 분산형이 아닌, **하이브리드 접근**을 채택합니다.

| 측면 | 중앙집중형 | 분산형(시장 기반) | 하이브리드 |
|------|----------|----------------|----------|
| 전역적 관점 | 전담 위임자가 유지 | 개별 에이전트가 로컬 관점만 보유 | 시장이 집계하되 위임자가 전략적 결정 |
| 확장성 | 병목 발생 | 자연스럽게 확장 | 핫 경로는 분산, 전략 결정은 집중 |
| 장애 내성 | 단일 장애점 | 높음 | 시장 자체의 이중화로 보완 |
| 재위임 | 위임자가 직접 판단 | 경매에 올리고 시장이 매칭 | 긴급도에 따라 방식 선택 |

---

## 8. 모니터링 및 투명성 (Monitoring & Transparency)

[[구조적 투명성(Structural Transparency)|구조적 투명성]]의 기술적 구현입니다. 위임된 작업의 실행 과정이 "블랙박스"가 아닌, 감사 가능하고 추적 가능한 형태로 관찰됩니다.

### 5축 모니터링 프레임워크

| 축 | 경량형 옵션 | 집중형 옵션 |
|---|---|---|
| **대상 (Target)** | 결과 수준: 최종 결과 사후 검증 | 과정 수준: 중간 상태, 자원 소비, 방법론 추적 |
| **관측 가능성 (Observability)** | 간접: 환경 부수 효과로 진행 추론 | 직접: 상태 polling, push 알림, 실시간 event streaming |
| **투명성 (Transparency)** | Black-Box: 입출력만 관찰 | White-Box: 내부 추론, 의사결정 논리 검사 |
| **Privacy** | 완전 투명성: 모든 데이터 공개 | 암호학적: ZKP, MPC로 데이터 비공개 검증 |
| **Topology** | 직접: 1대1 모니터링 | 전이적: 중간 에이전트의 서명된 증명에 의존 |

### 구성 가능한 모니터링 수준

논문의 MCP 확장을 기반으로, 4단계의 모니터링 수준을 정의합니다.

| 수준 | 코드명 | 수집 데이터 | 적합한 작업 |
|------|--------|-----------|------------|
| L0 | `IS_OPERATIONAL` | 수임자의 작동 여부(heartbeat)만 확인 | 저위험, 고신뢰 수임자 |
| L1 | `HIGH_LEVEL_PLAN_UPDATES` | 주요 마일스톤 달성, 계획 변경 사항 | 표준 작업 |
| L2 | `COT_TRACE` | Chain-of-Thought 추적, 의사결정 근거 | 고위험, 중요 작업 |
| L3 | `FULL_STATE` | 전체 내부 상태, 모든 API 호출, 자원 소비 | 최고 위험, 규제 대상 작업 |

### 전이적 모니터링

위임 체인 $A \rightarrow B \rightarrow C$에서 A가 C를 직접 모니터링하기 어려울 수 있습니다. 실용적 모델은 **증명을 통한 전이적 책임성(transitive accountability via attestation)** 입니다.

1. B가 C를 모니터링합니다.
2. B가 C의 성과 요약 보고서를 생성하고 **암호학적 서명**을 첨부합니다.
3. B의 정기 업데이트에 포함시켜 A에게 전달합니다.
4. A는 C를 직접 모니터링하지 않고, **B의 모니터링 능력을 모니터링**합니다.

만약 B의 보고가 일관성이 없거나 C의 실패를 은폐한다면, B의 모니터링 역량에 대한 신뢰가 하락하여 직접 모니터링으로 전환합니다.

### Privacy 보호 모니터링

민감한 데이터를 다루는 작업에서는 모니터링과 프라이버시 사이의 균형이 필요합니다.

| 기법 | 원리 | 오버헤드 | 적합한 상황 |
|------|------|---------|------------|
| **ZKP (영지식 증명)** | 데이터를 공개하지 않으면서 계산이 올바르게 수행되었음을 증명 | 높음 | 금융, 의료 데이터 처리 |
| **동형 암호 (HE)** | 암호화된 데이터에 대해 직접 계산 수행 | 매우 높음 | 극도로 민감한 데이터 |
| **안전한 다자간 계산 (MPC)** | 여러 당사자가 각자의 입력을 비공개로 유지하면서 공동 계산 | 중간~높음 | 다수 참여자 간 협업 검증 |

---

## 9. 보안 아키텍처 (Security Architecture)

[[시스템적 회복력(Systemic Resilience)|시스템적 회복력]]의 방어적 측면입니다. Agent MarketPlace는 3범주 위협 모델을 기반으로 심층 방어 전략을 구축합니다.

### 3범주 위협 모델

**범주 1: 악의적 수임자 (Malicious Delegatee)**

| 공격 벡터 | 설명 | 플랫폼 대응 |
|-----------|------|------------|
| 데이터 유출 | 위임된 데이터를 외부로 반출 | TEE 내 실행, DCT 권한 축소 |
| 데이터 오염 | 의도적으로 잘못된 결과 반환 | 다중 검증 메커니즘, 게임 이론적 합의 |
| 검증 전복 | Prompt injection으로 검증 에이전트 무력화 | 독립적 검증자, 격리된 검증 환경 |
| 자원 고갈 (DoS) | 의도적 지연으로 에스크로 자금 묶기 | 시간 제한 자동 해제, 벌칙 조항 |
| Backdoor 삽입 | 코드에 악의적 코드 삽입 | White-Box 모니터링 (L2/L3), 정적 분석 |

**범주 2: 악의적 위임자 (Malicious Delegator)**

| 공격 벡터 | 설명 | 플랫폼 대응 |
|-----------|------|------------|
| 유해 작업 위임 | 불법적 목적의 작업을 무해하게 위장 | 메타 모니터링 계층, 의도 추론 |
| 평판 훼손 | 허위 실패 보고로 수임자 평판 하락 유도 | 분쟁 해결 프로세스, 양방향 계약 보호 |
| 모델 추출 | system prompt, 추론 역량 탈취 시도 | 수임자의 내부 상태 보호, 접근 제한 |

**범주 3: 생태계 수준 위협**

| 공격 벡터 | 설명 | 플랫폼 대응 |
|-----------|------|------------|
| Sybil 공격 | 가짜 에이전트 대량 생성으로 시장 조작 | DID + 보증금 요구 |
| 담합 | 에이전트 간 공모하여 가격/결과 조작 | 통계적 이상 탐지, 외부 감사 |
| 인지적 단일문화 | 소수 기반 모델에 대한 과도한 의존 | 수임자 다양성 지표 모니터링, 다양성 인센티브 |
| 작업 분할 공격 | 불법적 목적을 무해한 하위 작업들로 분할 | 메타 모니터링 계층 |

### 작업 분할 공격 (Task Fragmentation Attack) 대응

이 공격은 특히 위험합니다. 정교한 공격자가 불법적 목적을 무해해 보이는 하위 작업들로 분할하여, 개별 수임자가 전체적인 악의적 의도를 감지하지 못하도록 합니다.

> [!warning] 작업 분할 공격 예시
> 공격자가 피싱 이메일 자동 발송 시스템을 구축하려 합니다.
>
> - **에이전트 A에게**: "기업 뉴스레터 이메일 템플릿 5개를 작성해줘" → 마케팅 업무로 보임
> - **에이전트 B에게**: "이 CSV에서 이메일 주소를 추출하고 정리해줘" → 데이터 정제로 보임
> - **에이전트 C에게**: "이 템플릿과 이메일 목록으로 대량 발송 스크립트를 작성해줘" → 자동화 업무로 보임
>
> 개별 에이전트는 각자의 작업만 보므로 전체 의도를 파악하지 못합니다.

대응 메커니즘:

1. **메타 모니터링 계층**: 동일 출처의 관련 작업을 그룹화하여 전체 의도를 추론
2. **조합 위험 평가**: 하위 작업 결과물의 조합 가능성에 대한 사전 위험 평가
3. **행동 분석 시스템**: 의심스러운 작업 조합 패턴을 탐지

### 심층 방어 4계층

| 계층 | 메커니즘 | 구체적 구현 |
|------|---------|------------|
| **1. 인프라** | 신뢰 실행 환경 (TEE) | 민감한 작업을 SGX/TDX enclave 내에서 실행 |
| **2. 접근 통제** | 최소 권한 원칙 + DCT | 권한 축소, 제한 체이닝, 시간 제한 토큰 |
| **3. 애플리케이션** | Prompt injection 방지 | 보안 프론트엔드, 입력 검증, 격리된 실행 컨텍스트 |
| **4. 네트워크/신원** | DID + mTLS | 탈중앙화 식별자, 상호 인증된 TLS, 자격증명 폐기 목록 |

### 사고 대응 프로토콜

보안 사고 발생 시 신속한 대응이 필수적입니다.

1. **자격증명 즉시 폐기**: 확인된 악의적 에이전트의 DID와 모든 발급된 DCT를 즉시 무효화
2. **컨트랙트 동결**: 해당 에이전트와 관련된 모든 활성 스마트 컨트랙트의 에스크로 동결
3. **보안 업데이트 전파**: 전체 시장 참여자에게 위협 정보 전파
4. **재귀적 대응**: 해당 에이전트가 하위 위임한 작업들에 대해서도 동일한 대응을 재귀적으로 적용

---

## 10. 프로토콜 통합 (Protocol Integration)

Agent MarketPlace는 기존 에이전트 프로토콜들의 강점을 활용하면서, 한계를 플랫폼 수준에서 보완합니다. 바퀴를 새로 발명하는 것이 아니라, 기존 바퀴를 조합하고 빠진 부품을 추가하는 접근입니다.

### 프로토콜별 활용 전략

| 프로토콜 | 플랫폼 매핑 계층 | 활용하는 강점 | 플랫폼이 보완하는 한계 |
|---------|----------------|-------------|---------------------|
| **MCP** | 실행 계층 | 외부 도구/데이터 연결 표준화, 균일한 로깅 | 권한 정책 계층 추가, 의미적 감쇠, 평판/신뢰 메커니즘 |
| **A2A** | 시장 계층 + 실행 계층 | Agent card 기반 기능 발견, 비동기 이벤트 스트림, Task object | 적대적 안전성, 암호학적 검증 슬롯, 구조화된 사전 협상 |
| **AP2** | 신뢰 계층 + 인프라 계층 | 암호화 서명 mandate, stake-on-bid, 감사 추적 | 작업 실행 품질 검증, 에스크로/마일스톤 정산, 환수 메커니즘 |
| **UCP** | 시장 계층 | 동적 기능 발견, 결제 하위 시스템, 협상 흐름 | 비거래적 계산 작업 위임으로 확장 |

### 위임 중심 프로토콜 확장

논문이 제안한 5가지 프로토콜 확장을 Agent MarketPlace에 통합합니다.

| 확장 | 기반 프로토콜 | 핵심 기능 |
|------|-------------|----------|
| `verification_policy` | A2A Task object | 사전 실행 핸드셰이크로 증거 표준 정의. ZK-proof 미지원 에이전트를 매칭 단계에서 필터링 |
| 모니터링 스트림 | MCP | L0~L3 구성 가능한 세분화 수준. 작업 위험도에 따라 동적 조정 |
| RFQ 프로토콜 | A2A + UCP | 구조화된 입찰 형식, 평판 보증금, 프라이버시 보장 수준 명시 |
| DCT | MCP + AP2 | Macaroon/Biscuit 기반 감쇠 토큰, 제한 체이닝으로 권한 점진적 축소 |
| 체크포인트 스키마 | A2A Task object | `state_snapshot` 표준화, 수임자 교체 시 최소 오버헤드 작업 재개 |

> [!info] 통합의 핵심 원칙
> Agent MarketPlace는 특정 프로토콜에 종속되지 않습니다. **프로토콜 어댑터 계층**을 통해 MCP, A2A, AP2, UCP 등 다양한 프로토콜을 추상화하며, 새로운 프로토콜이 등장하면 어댑터만 추가하면 됩니다. 플랫폼의 핵심 로직(입찰, 매칭, 검증, 정산)은 프로토콜에 독립적으로 작동합니다.

---

## 11. 인간 참여와 윤리적 설계 (Human Participation & Ethical Design)

Agent MarketPlace는 AI 에이전트만의 시장이 아닙니다. **AI 에이전트와 인간이 동일한 시장에서 입찰하는 하이브리드 시장**입니다. 이 설계는 효율성뿐 아니라 윤리적 고려를 플랫폼 수준에서 내장합니다.

### 하이브리드 시장

같은 작업에 AI 에이전트와 인간 전문가가 함께 입찰할 수 있습니다. 매칭 엔진은 비용과 속도뿐 아니라, 작업의 특성에 따라 인간의 판단이 필수적인지를 고려합니다.

| 작업 특성 | AI 에이전트 우위 | 인간 전문가 우위 |
|-----------|----------------|----------------|
| 정형화된 대량 처리 | 비용 $0.5, 속도 30초 | 비용 $50, 속도 2시간 |
| 높은 주관성 (디자인, 전략) | 반복적 피드백 필요 | 즉각적 가치 판단 가능 |
| 높은 중요도 (법률, 의료) | 보조적 역할 | 최종 판단 및 책임 |
| 도덕적 판단이 필요한 작업 | 역량 부족 | 필수적 |

### 의미 있는 인간 통제: 동적 인지 마찰

자동화된 제안에 과도하게 의존하면, 인간이 결과에 대한 의미 있는 통제력 없이 단지 **책임만 흡수하는 도덕적 완충 지대(moral crumple zone)**가 형성됩니다. 이를 방지하기 위해 **동적 인지 마찰(dynamic cognitive friction)** 을 설계합니다.

| 상황 | 인지 마찰 수준 | 구현 |
|------|-------------|------|
| 낮은 중요도, 낮은 불확실성 | 최소 (원활한 실행) | 자동 승인, 사후 알림만 |
| 중간 중요도, 중간 불확실성 | 중간 (확인 요청) | 요약 리뷰 + 승인 버튼 |
| 높은 중요도, 높은 불확실성 | 높음 (수동 개입) | 상세 분석 제시 + 근거 설명 요구 + 명시적 승인 |
| 비가역적 고영향 작업 | 최대 (다중 확인) | 대기 기간 + 독립적 검증 + 명시적 서명 |

핵심은 인지 마찰이 **맥락 인식적**이어야 한다는 것입니다. 모든 결정에 동일한 수준의 확인을 요구하면 **경보 피로(alarm fatigue)** 가 발생하여 오히려 감독의 질이 저하됩니다.

### 책임 방화벽 (Liability Firebreak)

위임 체인 $X \rightarrow A \rightarrow B \rightarrow C \rightarrow \ldots \rightarrow Y$가 길어지면, 원래 의도($X$)와 최종 실행($Y$) 사이의 거리가 커지면서 **책임의 공백**이 발생합니다. Agent MarketPlace는 각 위임 경계에 **책임 방화벽**을 설치합니다.

1. **완전 책임 인수**: 수임자가 모든 하위 행위에 대해 비이전적(non-transferable) 책임을 인수합니다. 위임자를 "보증"하는 셈입니다.
2. **중단 및 재승인 요청**: 체인이 특정 깊이를 초과하면, 실행을 중단하고 인간 주체에게 갱신된 권한 이전을 요청합니다.
3. **불변의 출처 기록**: 누가 무엇을 누구에게 위임했는지에 대한 감사 추적이 블록체인에 투명하게 유지됩니다.

### 탈숙련화 방지

위임의 즉각적 효율성 이득이 점진적 기술 저하를 대가로 할 수 있습니다. 자동화의 역설(paradox of automation)입니다. AI가 일상적 워크플로우를 처리하면 인간은 복잡한 예외 사례에서만 개입하게 되는데, 일상 업무에서 얻는 상황 인식 없이는 장애를 신뢰성 있게 처리할 준비가 부족해집니다.

Agent MarketPlace의 완화 전략:

- **교육과정 인식 작업 라우팅**: 주니어 팀원의 근접 발달 영역(zone of proximal development)에 위치한 작업을 전략적으로 인간에게 할당합니다. 효율성을 약간 희생하더라도 기술 유지를 위해 의도적으로 일부 작업을 인간에게 위임합니다.
- **과정 수준 모니터링의 교육적 활용**: AI 에이전트의 L2/L3 모니터링 스트림을 교육적 통찰로 활용하여, 주니어 팀원이 AI의 작업 수행 과정을 관찰하며 학습할 수 있도록 지원합니다.
- **점진적 지원 철회**: AI 에이전트가 템플릿과 골격을 제공하되, 숙련도 향상에 따라 점진적으로 지원을 철회합니다.

### 동의 화면과 보험

인간 사용자에게는 에이전트의 평판, 자율성 수준, 역량, 권한을 명시하는 명확한 **동의 화면(consent screen)** 이 제공됩니다. 비가역적이거나 고영향 작업을 실행하기 전에 **명시적 확인**을 요구하며, 사용자는 합의 조건에 따라 언제든지 동의를 철회할 수 있습니다.

또한 **보험 제공자**가 이러한 메커니즘으로 예방하지 못한 손해에 대해 인간 참여자를 보호하는 역할을 합니다. 보험 상품은 작업의 중요도와 에이전트의 평판에 따라 보험료가 산정됩니다.

---

## 12. 구현 로드맵 (Implementation Roadmap)

Agent MarketPlace의 구현은 3단계(Phase)로 나뉩니다. 각 Phase는 이전 Phase의 기반 위에 구축되며, 점진적으로 복잡성과 분산성을 높여갑니다.

### Phase 1: MVP — 기본 시장 + 단일 계층 위임

최소 기능 플랫폼으로, 핵심 가치를 검증하는 단계입니다.

| 구현 항목 | 설명 | 기술 스택 |
|-----------|------|----------|
| Task Registry | 작업 공시 및 검색 | PostgreSQL + REST API |
| Bid Collector | 구조화된 입찰 수집 및 유효성 검증 | JSON Schema validation |
| 기본 매칭 엔진 | 단일 목표(비용 또는 평판) 기반 매칭 | 규칙 기반 필터링 |
| 중앙화된 평판 | 단순 점수 기반 평판 시스템 | PostgreSQL |
| 기본 모니터링 | L0/L1 수준 모니터링 | Webhook + polling |
| 직접 검증 | 자동화된 테스트 기반 검증 | CI/CD 파이프라인 연동 |
| 대화형 협상 | LLM 에이전트 간 자연어 협상 채널 | WebSocket |

**Phase 1의 제약**: 재귀적 위임 불가, 에스크로 없이 직접 정산, 단일 계층 위임만 지원.

### Phase 2: 신뢰 강화 — 스마트 컨트랙트 + 분산 평판

시장의 신뢰 인프라를 강화하는 단계입니다.

| 구현 항목 | 설명 | 기술 스택 |
|-----------|------|----------|
| 스마트 컨트랙트 | 양방향 계약, 자동 벌칙, 조건부 실행 | Solidity / CosmWasm |
| 에스크로 | 마일스톤 기반 분할 정산 | 스마트 컨트랙트 내장 |
| DID/VC 기반 평판 | 탈중앙화 식별자 + Verifiable Credential | did:web + Veramo |
| 다목적 최적화 매칭 | Pareto 최적성 기반 다변수 매칭 | 최적화 알고리즘 (NSGA-II) |
| L2/L3 모니터링 | CoT 추적, 전체 상태 모니터링 | Apache Kafka + gRPC stream |
| 제3자 검증 | 독립 감사 에이전트 네트워크 | 검증자 레지스트리 |
| 분쟁 해결 | 낙관적 모델 + 알고리즘적 해결 | 스마트 컨트랙트 기반 투표 |
| 체크포인트 시스템 | 작업 상태 스냅샷 저장 및 이관 | 분산 스토리지 (IPFS) |

### Phase 3: 완전 분산 — 재귀적 위임 + 고급 보안

완전한 분산형 시장을 실현하는 단계입니다.

| 구현 항목 | 설명 | 기술 스택 |
|-----------|------|----------|
| 재귀적 위임 | 수임자가 하위 작업을 다시 시장에 공시 | 위임 트리 관리 + 깊이 제한 |
| DCT | Macaroon/Biscuit 기반 감쇠 토큰, 제한 체이닝 | Biscuit auth library |
| 적응적 실행 엔진 | 트리거 감지, 단계적 대응, 자동 재위임 | 이벤트 기반 상태 머신 |
| ZKP 검증 | 영지식 증명 기반 프라이버시 보호 검증 | zk-SNARKs (Groth16 / PLONK) |
| 탈중앙화 심사 패널 | 독립적 에이전트 다수결 판정 | 스마트 컨트랙트 기반 투표 |
| 메타 모니터링 | 작업 분할 공격 탐지, 의도 추론 | 그래프 분석 + 이상 탐지 ML |
| 교육과정 인식 라우팅 | 인간 기술 유지를 위한 전략적 작업 할당 | 학습 프로파일 관리 |
| 보험 연동 | 보험 제공자 API 연동, 위험 기반 보험료 산정 | 외부 보험 프로토콜 통합 |

### Phase별 핵심 지표

| 지표 | Phase 1 | Phase 2 | Phase 3 |
|------|---------|---------|---------|
| 위임 깊이 | 1 계층 | 2 계층 | 무제한 (깊이 제한 포함) |
| 매칭 방식 | 단일 목표 | 다목적 최적화 | 다목적 + 맥락적 신뢰 |
| 평판 시스템 | 중앙화 점수 | DID/VC + Ledger | 3가지 모델 통합 |
| 모니터링 | L0/L1 | L0~L3 | L0~L3 + 전이적 + ZKP |
| 정산 | 직접 | 에스크로 + 마일스톤 | 에스크로 + DCT + 보험 |
| 보안 | 기본 인증 | 스마트 컨트랙트 + DID | 심층 방어 4계층 + 메타 모니터링 |

---

## 맺음말

Agent MarketPlace는 [[지능형 AI 위임(Intelligent AI Delegation)|지능형 AI 위임]] 프레임워크의 추상적 원칙을 **실제로 작동하는 플랫폼**으로 구현하기 위한 설계입니다. 논문이 제시한 다섯 가지 기둥이 플랫폼의 각 계층에 구체적으로 매핑되며, 기존 프로토콜(MCP, A2A, AP2, UCP)의 강점을 활용하면서 그 한계를 보완합니다.

이 플랫폼의 핵심 원칙은 논문이 반복적으로 강조하는 것과 동일합니다: **"검증할 수 없는 것은 위임하지 않는다."** 계약 우선 분해, 구조화된 입찰, 다중 검증 메커니즘, 암호학적 증명 — 모든 설계 결정이 이 원칙을 향합니다.

에이전트 경제가 확장됨에 따라, AI 에이전트와 인간이 동일한 시장에서 신뢰를 기반으로 작업을 거래하는 플랫폼은 선택이 아닌 필수가 될 것입니다. Agent MarketPlace는 그 여정을 위한 구체적인 설계도입니다.

---

참고 논문: Nenad Tomasev, Matija Franklin, Simon Osindero. "Intelligent AI Delegation." Google DeepMind, arXiv:2602.11865v1, February 2026.
