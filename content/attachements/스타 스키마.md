# 스타 스키마 (Star Schema)

스타 스키마는 데이터 웨어하우스와 비즈니스 인텔리전스 시스템에서 널리 사용되는 데이터베이스 설계 모델입니다. 이름에서 알 수 있듯이, 이 구조는 중앙에 위치한 사실(Fact) 테이블과 그 주변을 둘러싼 여러 차원(Dimension) 테이블이 별 모양을 형성하는 것처럼 보이기 때문에 '스타 스키마'라고 불립니다.

## 스타 스키마의 주요 구성 요소

### 1. 사실(Fact) 테이블
사실 테이블은 스타 스키마의 중심에 위치하며 비즈니스 프로세스의 측정값(Measures)을 저장합니다. 이는 보통:

- 수량, 금액, 개수 등의 숫자 데이터(측정값)를 포함합니다.
- 각 차원 테이블의 외래 키(Foreign Key)를 포함합니다.
- 일반적으로 매우 큰 테이블이며 많은 양의 데이터를 포함합니다.
- 예를 들어, 판매 데이터에서는 판매량, 판매 금액 등이 사실 데이터가 됩니다.

### 2. 차원(Dimension) 테이블
차원 테이블은 사실 테이블 주변에 위치하며 사실 데이터를 분석하기 위한 맥락과 필터 역할을 합니다.

- 각 차원 테이블은 기본 키(Primary Key)를 가지며, 이 키는 사실 테이블의 외래 키와 연결됩니다.
- 설명적이고 텍스트 기반의 속성들을 포함합니다.
- 상대적으로 작은 크기이며, 데이터가 정규화되어 있지 않을 수 있습니다.
- 예를 들어, 시간 차원, 제품 차원, 고객 차원, 지역 차원 등이 있습니다.

## 스타 스키마의 작동 방식 예시

실제 판매 데이터를 예로 들어보겠습니다:

**사실 테이블 (판매)**:
- 판매_ID (기본 키)
- 제품_ID (외래 키)
- 시간_ID (외래 키)
- 고객_ID (외래 키)
- 매장_ID (외래 키)
- 판매량
- 판매금액

**차원 테이블들**:
1. **제품 차원**:
   - 제품_ID (기본 키)
   - 제품명
   - 브랜드
   - 카테고리
   - 가격

2. **시간 차원**:
   - 시간_ID (기본 키)
   - 날짜
   - 월
   - 분기
   - 년도
   - 요일

3. **고객 차원**:
   - 고객_ID (기본 키)
   - 이름
   - 연령대
   - 성별
   - 주소

4. **매장 차원**:
   - 매장_ID (기본 키)
   - 매장명
   - 지역
   - 매니저
   - 크기

이런 구조에서 사용자는 "2023년 1분기에 서울 지역 매장에서 20대 여성이 구매한 화장품 브랜드별 판매량" 같은 복잡한 분석 쿼리를 쉽게 실행할 수 있습니다.

## 스타 스키마의 장점

1. **단순성**: 이해하고 구현하기 쉬운 구조입니다.
2. **쿼리 성능**: 테이블 간 조인(join)이 단순하여 쿼리 속도가 빠릅니다.
3. **비즈니스 이해도**: 비즈니스 사용자가 이해하기 쉬운 데이터 모델을 제공합니다.
4. **분석 효율성**: OLAP(Online Analytical Processing) 작업에 최적화되어 있습니다.
5. **데이터 중복 허용**: 차원 테이블에서의 데이터 중복을 허용하여 쿼리 성능을 향상시킵니다.

## 스타 스키마의 단점

1. **데이터 무결성**: 비정규화로 인해 데이터 중복이 발생할 수 있습니다.
2. **유연성 부족**: 변경 사항을 적용하기 어려울 수 있습니다.
3. **저장 공간**: 데이터 중복으로 인해 더 많은 저장 공간이 필요할 수 있습니다.

## 스타 스키마 vs 스노우플레이크 스키마

스타 스키마와 자주 비교되는 것은 스노우플레이크 스키마입니다. 스노우플레이크 스키마는 차원 테이블을 더 세분화하여 정규화한 구조입니다.

- **스타 스키마**: 차원 테이블이 정규화되어 있지 않음 (단순성, 성능 우선)
- **스노우플레이크 스키마**: 차원 테이블이 정규화되어 있음 (데이터 무결성, 저장 공간 효율성 우선)

## 실제 사용 사례

스타 스키마는 다음과 같은 분야에서 널리 사용됩니다:

- 소매업의 판매 분석
- 금융 기관의 거래 분석
- 통신 회사의 통화 데이터 분석
- 웹사이트의 사용자 행동 분석
- 제조업의 생산 데이터 분석

데이터 분석과 비즈니스 인텔리전스에서 스타 스키마는 복잡한 데이터를 구조화하고 효율적으로 분석하는 강력한 방법을 제공합니다.