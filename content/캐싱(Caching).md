## 1. 캐싱이란?

캐싱(Caching)은 자주 사용되는 데이터를 미리 저장하여 빠르게 접근할 수 있도록 하는 기술입니다. 이는 시스템의 성능을 향상시키고, 응답 시간을 단축하며, 서버 부하를 줄이는 중요한 전략 중 하나입니다. 웹 애플리케이션, 데이터베이스, API 등 다양한 분야에서 활용됩니다.

## 2. 캐싱의 기본 원리

캐싱은 주로 다음과 같은 원리로 동작합니다:

1. **데이터 요청 발생** - 사용자가 특정 데이터를 요청합니다.
2. **캐시 확인** - 요청된 데이터가 캐시에 존재하는지 확인합니다.
3. **캐시 히트(Cache Hit) 또는 미스(Cache Miss)**
    - **Cache Hit**: 캐시에 데이터가 존재하면 바로 반환합니다.
    - **Cache Miss**: 캐시에 데이터가 없으면 원본 데이터 소스(예: 데이터베이스)에서 가져와 캐시에 저장한 후 반환합니다.

## 3. 캐싱의 종류
### 3.1. 클라이언트 사이드 캐싱

- **브라우저 캐싱**: 웹 브라우저가 정적 리소스(HTML, CSS, JavaScript, 이미지 등)를 캐싱하여 빠르게 로딩하도록 합니다.
- **서비스 워커(Service Worker)**: 브라우저에서 실행되는 백그라운드 스크립트로, 오프라인 지원 및 캐싱 기능을 제공합니다.

### 3.2. 서버 사이드 캐싱

- **메모리 캐싱**: RAM에 데이터를 저장하여 빠른 액세스를 제공합니다. 대표적인 예로 [[Redis]], [[Memcached]] 등이 있습니다.
- **데이터베이스 캐싱**: 데이터베이스 조회 결과를 캐싱하여 같은 쿼리에 대한 응답 속도를 높입니다.
- **페이지 캐싱**: 전체 웹 페이지를 캐싱하여 페이지 로딩 속도를 단축합니다.

### 3.3. 네트워크 캐싱

- **CDN(Content Delivery Network) 캐싱**: 글로벌 네트워크를 통해 정적 리소스를 분산 캐싱하여 성능을 최적화합니다.
- **DNS 캐싱**: 자주 사용하는 도메인 이름을 캐싱하여 DNS 조회 속도를 향상시킵니다.

## 4. 캐싱 전략

### 4.1. [[Cache Aside]]

**Cache Aside** 전략은 애플리케이션이 데이터베이스와 캐시 사이에서 데이터를 관리하는 방식입니다. 이 전략에서는 애플리케이션이 직접 캐시를 제어하며, 필요한 데이터를 가져오거나 업데이트할 때 캐시와 데이터베이스를 적절히 활용합니다.

### 4.2. [[Read Through 캐싱 전략| Read Through]]
**Read Throught** 전략은 캐시 자체가  클라이언트와 데이터베이스 사이에서 데이터를 관리하는 방식입니다. 이 전략에서는 캐시가 직접 캐시를 제어하며, 필요한 데이터를 직접 데이터베이스에서 가져와 캐시를 업데이트 할 수 있습니다.

### 4.3 [[Write Through]]
Write-Through 캐시는 애플리케이션이 데이터를 캐시에 쓰면, 그 데이터가 즉시 원본 데이터 저장소(예: 데이터베이스)에도 반영되는 방식의 캐싱 전략입니다. 즉, 쓰기 연산이 발생할 때 캐시와 원본 저장소에 동시에 데이터를 저장합니다.

|특성|Cache Aside|Read-Through|Write-Through|
|---|---|---|---|
|데이터 조회|애플리케이션이 캐시에 직접 접근|애플리케이션이 캐시에 접근|애플리케이션이 캐시에 접근|
|데이터 쓰기|애플리케이션이 DB에 쓰고 캐시 처리|애플리케이션이 DB에 직접 쓰기|애플리케이션이 캐시에 쓰기|
|캐시 미스 처리|애플리케이션 로직으로 처리|캐시 시스템이 자동으로 처리|캐시 시스템이 자동으로 처리|
|쓰기 시 일관성|캐시 무효화 필요|캐시 무효화 수동 관리 필요|캐시와 DB에 동시에 쓰므로 일관성 높음|
|장점|캐시 제어의 유연성, 쓰기 작업 빠름|캐시 접근 로직 단순화, 일관성 향상|데이터 일관성 우수, 읽기 성능 향상|
|단점|일관성 유지 어려움, 개발자 부담|복잡한 캐시 로직 적용 어려움|쓰기 지연 증가, 시스템 복잡도 증가|
|적용 예시|소규모 앱, 읽기 많은 시스템|대규모 시스템, 일관성 중요한 시스템|일관성 매우 중요한 시스템, 읽기/쓰기 비율 유사|

---

## 5. 캐싱 도구와 기술

- **[[Redis]]**: 키-값 기반의 인메모리 데이터 저장소로 빠른 성능을 제공합니다.
- **[[Memcached]]**: 분산 메모리 캐싱 시스템으로 빠르고 간단한 캐싱을 지원합니다.
- **Varnish**: HTTP 캐싱을 최적화하는 리버스 프록시 캐시 서버입니다.
- **NGINX 캐싱**: 웹 서버에서 정적 및 동적 콘텐츠를 캐싱하는 기능을 제공합니다.

## 6. 캐싱 적용 사례

4. **대규모 트래픽을 처리하는 웹 애플리케이션**: CDN을 활용한 정적 파일 캐싱
5. **데이터베이스 부하 감소**: Redis를 이용한 세션 데이터 캐싱
6. **API 성능 최적화**: API 응답을 캐싱하여 중복 요청 처리 감소

## 7. 캐싱의 도전 과제

- **데이터 일관성 문제**: 캐시된 데이터가 최신 상태인지 보장하는 것이 중요합니다.
- **메모리 관리**: 캐시가 너무 많으면 메모리를 과다 사용하여 성능 저하가 발생할 수 있습니다.
- **적절한 캐싱 전략 선택**: 상황에 맞는 캐싱 전략을 선택해야 합니다.

## 8. 결론

캐싱은 성능 최적화를 위한 강력한 도구이며, 적절한 전략을 활용하면 서버 부하를 줄이고 응답 속도를 개선할 수 있습니다. 그러나 데이터 일관성 및 메모리 관리에 대한 고려가 필요합니다. 올바른 캐싱 전략을 적용하여 시스템의 안정성과 효율성을 높이는 것이 중요합니다.