---
draft: 
tags:
  - 이론
---
## 역압력(Back Pressure)의 개념

역압력은 데이터를 수신하는 쪽(소비자)이 데이터를 생산하는 쪽(생산자)에게 자신의 처리 능력에 맞게 데이터 전송 속도를 조절해달라고 요청하는 메커니즘입니다. 쉽게 말해, "천천히 보내주세요, 제가 처리할 수 있는 속도에 맞춰 주세요"라고 요청하는 것과 같습니다.

## 역압력이 필요한 이유

1. **자원 보호**: 수신 측의 메모리나 처리 능력이 제한적일 때, 너무 많은 데이터가 한꺼번에 밀려들면 시스템이 과부하되거나 메모리 부족으로 인한 오류가 발생할 수 있습니다.
    
2. **안정적인 처리**: 데이터 처리 속도보다 데이터 유입 속도가 빠르면, 버퍼가 계속 커져 결국 시스템이 불안정해질 수 있습니다.
    
3. **흐름 제어**: 전체 시스템에서 데이터 흐름을 균형 있게 유지함으로써 병목 현상을 방지합니다.
    

## 역압력의 작동 방식

리액티브 스트림에서의 역압력 작동 방식은 다음과 같습니다:

1. **요청 기반 모델**: 소비자가 처리할 수 있는 요소의 수를 생산자에게 알립니다.
    
2. **신호 전달**: 소비자는 "나는 n개의 항목을 처리할 준비가 되어 있다"라는 신호를 보냅니다.
    
3. **비동기적 통신**: 이 요청과 응답 과정은 비동기적으로 이루어지므로 시스템의 응답성을 유지합니다.
    
4. **논블로킹 처리**: 생산자는 소비자의 요청을 기다리는 동안 다른 작업을 계속할 수 있습니다.
    

## 리액티브 스트림에서의 역압력

리액티브 스트림 명세에서는 역압력이 핵심 요소로, Publisher와 Subscriber 간의 상호작용을 통해 구현됩니다:

1. Subscriber가 구독을 시작합니다.
2. Publisher가 구독을 확인합니다.
3. Subscriber는 request(n) 메서드를 통해 원하는 요소 수를 요청합니다.
4. Publisher는 요청된 수만큼만 요소를 전송합니다.
5. 처리가 완료되면 Subscriber는 다시 추가 요소를 요청할 수 있습니다.

## 역압력의 이점

- **시스템 안정성**: 과부하 상태를 방지하여 시스템이 안정적으로 작동합니다.
- **자원 효율성**: 필요한 만큼만 데이터를 처리하므로 자원 사용이 효율적입니다.
- **품질 보장**: 데이터 처리의 품질과 정확성이 향상됩니다.
- **확장성**: 다양한 처리 속도를 가진 구성 요소들이 함께 작동할 수 있게 합니다.

역압력은 특히 대용량 데이터 스트림을 처리하는 현대적인 반응형 시스템에서 필수적인 개념이며, 안정적이고 탄력적인 시스템 구축에 중요한 역할을 합니다.

## 관련 문서

- [[리액티브 스트림(Reactive Streams)]]
- [[R2DBC 동작 원리]] - 데이터베이스 접근에서의 Backpressure 활용